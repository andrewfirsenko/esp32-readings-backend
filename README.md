# ESP32 Measurements Backend

Backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏—ë–º–∞, —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–º–µ—Ä–µ–Ω–∏–π —Å ESP32-—É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, –¥–∞–≤–ª–µ–Ω–∏–µ –∏ —Ç.–¥.).

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –ø–∞—Ä–µ —Å –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ ESP32, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –∞ –∫–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Swift 5.9**
- **Vapor 4** ‚Äî HTTP —Å–µ—Ä–≤–µ—Ä –∏ REST API
- **Fluent** ‚Äî ORM
- **SQLite** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üì¶ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –ü—Ä–∏—ë–º –∏–∑–º–µ—Ä–µ–Ω–∏–π –æ—Ç ESP32 (–ø–∞–∫–µ—Ç–æ–º)
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ—Ä–µ–Ω–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É
- –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, —É–¥–æ–±–Ω–∞—è –¥–ª—è IoT

## üì° API (–∫—Ä–∞—Ç–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

**POST** `/add-measurements`
> –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ—Ä–µ–Ω–∏–π. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ—Ä–µ–Ω–∏–π –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
> <details>
>  <summary>–ü—Ä–∏–º–µ—Ä —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞:</summary>
>  
> ```json
>  {
>    "deviceId": "esp32-001",
>    "measurements": [
>      {
>        "date": 1700000000,
>        "temperature": 23.5,
>        "humidity": 45.2,
>        "pressure": 1013
>      }
>    ]
>  }
>  ```
> </details>

**GET** `/last-measurement/{deviceId}`
> –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
> <details>
>  <summary>–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:</summary>
>  
> ```json
>  {
>    "deviceId": "esp32-001",
>    "measurement": {
>      "date": 1700000000,
>      "temperature": 23.5,
>      "humidity": 45.2,
>      "pressure": 1013
>    }
>  }
>  ```
> </details>

## üê≥ –ó–∞–ø—É—Å–∫

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–ø—É—Å–∫ –≤ Docker:
```bash
docker build -t esp32-measurements-backend .
docker run -p 8080:8080 esp32-measurements-backend
```

–ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Swift/Vapor –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:
- –¥–æ–º–∞—à–Ω–∏—Ö IoT-—Å–∏—Å—Ç–µ–º
- –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã
- —É—á–µ–±–Ω—ã—Ö –∏ pet-–ø—Ä–æ–µ–∫—Ç–æ–≤ —Å ESP32 –∏ Swift backend
